# Outline

[← Back to MODULE](MODULE.md) | [← Back to INDEX](../../INDEX.md)

Symbol maps for 5 large files in this module.

## Quotio/QuotioApp.swift (603 lines)

| Line | Kind | Name | Visibility |
| ---- | ---- | ---- | ---------- |
| 17 | class | AppBootstrap | (internal) |
| 31 | method | init | (private) |
| 36 | fn | initializeIfNeeded | (internal) |
| 52 | fn | completeOnboarding | (internal) |
| 56 | fn | performFullInitialization | (private) |
| 85 | fn | updateStatusBar | (internal) |
| 142 | struct | QuotioApp | (internal) |
| 243 | class | AppDelegate | (internal) |
| 247 | fn | applicationDidFinishLaunching | (internal) |
| 301 | fn | applicationShouldTerminateAfterLastWindowClosed | (internal) |
| 305 | fn | applicationShouldHandleReopen | (internal) |
| 323 | fn | applicationWillTerminate | (internal) |
| 347 | fn | handleWindowDidBecomeKey | (private) |
| 351 | fn | handleWindowWillClose | (private) |
| 368 | struct | ContentView | (internal) |
| 501 | struct | RemoteStatusRow | (internal) |
| 544 | struct | ProxyStatusRow | (internal) |
| 575 | struct | QuotaRefreshStatusRow | (internal) |

## Quotio/Services/Proxy/CLIProxyManager.swift (1972 lines)

| Line | Kind | Name | Visibility |
| ---- | ---- | ---- | ---------- |
| 9 | class | CLIProxyManager | (internal) |
| 193 | method | init | (internal) |
| 234 | fn | restartProxyIfRunning | (private) |
| 252 | fn | updateConfigValue | (private) |
| 272 | fn | updateConfigPort | (private) |
| 276 | fn | updateConfigHost | (private) |
| 280 | fn | ensureApiKeyExistsInConfig | (private) |
| 329 | fn | updateConfigAllowRemote | (internal) |
| 333 | fn | updateConfigLogging | (internal) |
| 341 | fn | updateConfigRoutingStrategy | (internal) |
| 346 | fn | updateConfigProxyURL | (internal) |
| 374 | fn | applyBaseURLWorkaround | (internal) |
| 403 | fn | removeBaseURLWorkaround | (internal) |
| 445 | fn | ensureConfigExists | (private) |
| 479 | fn | syncSecretKeyInConfig | (private) |
| 495 | fn | regenerateManagementKey | (internal) |
| 530 | fn | syncProxyURLInConfig | (private) |
| 543 | fn | syncCustomProvidersToConfig | (private) |
| 560 | fn | downloadAndInstallBinary | (internal) |
| 621 | fn | fetchLatestRelease | (private) |
| 642 | fn | findCompatibleAsset | (private) |
| 667 | fn | downloadAsset | (private) |
| 686 | fn | extractAndInstall | (private) |
| 748 | fn | findBinaryInDirectory | (private) |
| 781 | fn | start | (internal) |
| 913 | fn | stop | (internal) |
| 969 | fn | startHealthMonitor | (private) |
| 983 | fn | stopHealthMonitor | (private) |
| 988 | fn | performHealthCheck | (private) |
| 1051 | fn | cleanupOrphanProcesses | (private) |
| 1114 | fn | terminateAuthProcess | (internal) |
| 1120 | fn | toggle | (internal) |
| 1128 | fn | copyEndpointToClipboard | (internal) |
| 1133 | fn | revealInFinder | (internal) |
| 1140 | enum | ProxyError | (internal) |
| 1171 | enum | AuthCommand | (internal) |
| 1209 | struct | AuthCommandResult | (internal) |
| 1215 | mod | extension CLIProxyManager | (internal) |
| 1216 | fn | runAuthCommand | (internal) |
| 1248 | fn | appendOutput | (internal) |
| 1252 | fn | tryResume | (internal) |
| 1263 | fn | safeResume | (internal) |
| 1363 | mod | extension CLIProxyManager | (internal) |
| 1393 | fn | checkForUpgrade | (internal) |
| 1444 | fn | saveInstalledVersion | (private) |
| 1452 | fn | fetchAvailableReleases | (internal) |
| 1474 | fn | versionInfo | (internal) |
| 1480 | fn | fetchGitHubRelease | (private) |
| 1502 | fn | findCompatibleAsset | (private) |
| 1535 | fn | performManagedUpgrade | (internal) |
| 1593 | fn | downloadAndInstallVersion | (private) |
| 1640 | fn | startDryRun | (private) |
| 1711 | fn | promote | (private) |
| 1746 | fn | rollback | (internal) |
| 1779 | fn | stopTestProxy | (private) |
| 1808 | fn | stopTestProxySync | (private) |
| 1834 | fn | findUnusedPort | (private) |
| 1844 | fn | isPortInUse | (private) |
| 1863 | fn | createTestConfig | (private) |
| 1891 | fn | cleanupTestConfig | (private) |
| 1899 | fn | isNewerVersion | (private) |
| 1902 | fn | parseVersion | (internal) |
| 1934 | fn | findPreviousVersion | (private) |
| 1947 | fn | migrateToVersionedStorage | (internal) |

## Quotio/Services/Proxy/ProxyBridge.swift (1091 lines)

| Line | Kind | Name | Visibility |
| ---- | ---- | ---- | ---------- |
| 22 | struct | FallbackContext | (internal) |
| 96 | class | ProxyBridge | (internal) |
| 156 | method | init | (internal) |
| 165 | fn | configure | (internal) |
| 188 | fn | start | (internal) |
| 228 | fn | stop | (internal) |
| 238 | fn | handleListenerState | (private) |
| 254 | fn | handleNewConnection | (private) |
| 472 | fn | createFallbackContext | (private) |

## Quotio/ViewModels/QuotaViewModel.swift (1905 lines)

| Line | Kind | Name | Visibility |
| ---- | ---- | ---- | ---------- |
| 11 | class | QuotaViewModel | (internal) |
| 130 | fn | loadDisabledAuthFiles | (private) |
| 136 | fn | saveDisabledAuthFiles | (private) |
| 141 | fn | syncDisabledStatesToBackend | (private) |
| 160 | fn | notifyQuotaDataChanged | (private) |
| 163 | method | init | (internal) |
| 173 | fn | setupProxyURLObserver | (private) |
| 189 | fn | normalizedProxyURL | (private) |
| 201 | fn | updateProxyConfiguration | (internal) |
| 214 | fn | setupRefreshCadenceCallback | (private) |
| 222 | fn | setupWarmupCallback | (private) |
| 240 | fn | restartAutoRefresh | (private) |
| 252 | fn | initialize | (internal) |
| 262 | fn | initializeFullMode | (private) |
| 278 | fn | checkForProxyUpgrade | (private) |
| 283 | fn | initializeQuotaOnlyMode | (private) |
| 293 | fn | initializeRemoteMode | (private) |
| 321 | fn | setupRemoteAPIClient | (private) |
| 329 | fn | reconnectRemote | (internal) |
| 338 | fn | loadDirectAuthFiles | (internal) |
| 344 | fn | refreshQuotasDirectly | (internal) |
| 371 | fn | autoSelectMenuBarItems | (private) |
| 405 | fn | syncMenuBarSelection | (internal) |
| 412 | fn | refreshClaudeCodeQuotasInternal | (private) |
| 433 | fn | refreshCursorQuotasInternal | (private) |
| 444 | fn | refreshCodexCLIQuotasInternal | (private) |
| 460 | fn | refreshGeminiCLIQuotasInternal | (private) |
| 478 | fn | refreshGlmQuotasInternal | (private) |
| 488 | fn | refreshWarpQuotasInternal | (private) |
| 512 | fn | refreshTraeQuotasInternal | (private) |
| 522 | fn | refreshKiroQuotasInternal | (private) |
| 528 | fn | cleanName | (internal) |
| 578 | fn | startQuotaOnlyAutoRefresh | (private) |
| 596 | fn | startQuotaAutoRefreshWithoutProxy | (private) |
| 615 | fn | isWarmupEnabled | (internal) |
| 619 | fn | warmupStatus | (internal) |
| 624 | fn | warmupNextRunDate | (internal) |
| 629 | fn | toggleWarmup | (internal) |
| 638 | fn | setWarmupEnabled | (internal) |
| 650 | fn | nextDailyRunDate | (private) |
| 661 | fn | restartWarmupScheduler | (private) |
| 694 | fn | runWarmupCycle | (private) |
| 757 | fn | warmupAccount | (private) |
| 802 | fn | warmupAccount | (private) |
| 863 | fn | fetchWarmupModels | (private) |
| 887 | fn | warmupAvailableModels | (internal) |
| 900 | fn | warmupAuthInfo | (private) |
| 922 | fn | warmupTargets | (private) |
| 936 | fn | updateWarmupStatus | (private) |
| 965 | fn | startProxy | (internal) |
| 1002 | fn | stopProxy | (internal) |
| 1030 | fn | toggleProxy | (internal) |
| 1038 | fn | setupAPIClient | (private) |
| 1045 | fn | startAutoRefresh | (private) |
| 1082 | fn | attemptProxyRecovery | (private) |
| 1098 | fn | refreshData | (internal) |
| 1145 | fn | manualRefresh | (internal) |
| 1156 | fn | refreshAllQuotas | (internal) |
| 1191 | fn | refreshQuotasUnified | (internal) |
| 1224 | fn | refreshAntigravityQuotasInternal | (private) |
| 1244 | fn | refreshAntigravityQuotasWithoutDetect | (private) |
| 1261 | fn | isAntigravityAccountActive | (internal) |
| 1266 | fn | switchAntigravityAccount | (internal) |
| 1278 | fn | beginAntigravitySwitch | (internal) |
| 1283 | fn | cancelAntigravitySwitch | (internal) |
| 1288 | fn | dismissAntigravitySwitchResult | (internal) |
| 1291 | fn | refreshOpenAIQuotasInternal | (private) |
| 1296 | fn | refreshCopilotQuotasInternal | (private) |
| 1301 | fn | refreshQuotaForProvider | (internal) |
| 1336 | fn | refreshAutoDetectedProviders | (internal) |
| 1343 | fn | startOAuth | (internal) |
| 1385 | fn | startCopilotAuth | (private) |
| 1402 | fn | startKiroAuth | (private) |
| 1436 | fn | pollCopilotAuthCompletion | (private) |
| 1453 | fn | pollKiroAuthCompletion | (private) |
| 1471 | fn | pollOAuthStatus | (private) |
| 1499 | fn | cancelOAuth | (internal) |
| 1503 | fn | deleteAuthFile | (internal) |
| 1539 | fn | toggleAuthFileDisabled | (internal) |
| 1570 | fn | pruneMenuBarItems | (private) |
| 1606 | fn | importVertexServiceAccount | (internal) |
| 1630 | fn | fetchAPIKeys | (internal) |
| 1640 | fn | addAPIKey | (internal) |
| 1652 | fn | updateAPIKey | (internal) |
| 1664 | fn | deleteAPIKey | (internal) |
| 1677 | fn | checkAccountStatusChanges | (private) |
| 1698 | fn | checkQuotaNotifications | (internal) |
| 1730 | fn | scanIDEsWithConsent | (internal) |
| 1799 | fn | savePersistedIDEQuotas | (private) |
| 1822 | fn | loadPersistedIDEQuotas | (private) |
| 1884 | fn | shortenAccountKey | (private) |
| 1896 | struct | OAuthState | (internal) |

## scripts/capture-screenshots.ts (763 lines)

| Line | Kind | Name | Visibility |
| ---- | ---- | ---- | ---------- |
| 54 | type | AppSource | (private) |
| 60 | interface | ScreenDef | (private) |
| 80 | type | AppearanceMode | (private) |
| 81 | type | ThemeChoice | (private) |
| 83 | interface | CaptureOptions | (private) |
| 93 | fn | sleep | (private) |
| 97 | type | RequiredTool | (private) |
| 99 | fn | checkRequiredTools | (private) |
| 115 | fn | removeFileIfExists | (private) |
| 130 | interface | AppAvailability | (private) |
| 137 | fn | detectAvailableApps | (private) |
| 146 | fn | getAppPath | (private) |
| 150 | fn | selectAppSource | (private) |
| 181 | fn | runAppleScript | (private) |
| 190 | fn | openURL | (private) |
| 194 | fn | log | (private) |
| 199 | fn | retry | (private) |
| 216 | fn | launchApp | (private) |
| 222 | fn | activateApp | (private) |
| 231 | fn | resizeWindow | (private) |
| 251 | fn | navigateToScreen | (private) |
| 283 | fn | downloadWallpaper | (private) |
| 304 | fn | ensureWallpapers | (private) |
| 312 | fn | getCurrentWallpaper | (private) |
| 323 | fn | setWallpaper | (private) |
| 337 | fn | getCurrentAppearance | (private) |
| 348 | fn | setAppearance | (private) |
| 365 | fn | hideDesktopIcons | (private) |
| 370 | fn | showDesktopIcons | (private) |
| 375 | fn | getScreenBounds | (private) |
| 388 | fn | getWindowId | (private) |
| 409 | fn | captureWindow | (private) |
| 429 | fn | compositeOnWallpaper | (private) |
| 448 | fn | compressPng | (private) |
| 457 | fn | hideAllWindows | (private) |
| 483 | fn | captureMenuBarDropdown | (private) |
| 536 | fn | captureScreen | (private) |
| 565 | fn | captureSelectedScreens | (private) |
| 584 | fn | ensureOutputDir | (private) |
| 594 | fn | showInteractiveTUI | (private) |
| 666 | fn | parseCliArgs | (private) |
| 702 | fn | main | (private) |

